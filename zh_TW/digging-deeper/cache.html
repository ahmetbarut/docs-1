<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>快取 | Goravel</title>
    <meta name="description" content="Goravel is a web application framework with complete functions and excellent scalability. As a starting scaffolding to help Gopher quickly build their own applications.">
    <meta name="generator" content="VitePress v2.0.0-alpha.4">
    <link rel="preload stylesheet" href="/assets/style.SY_qOvSh.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    <script type="module" src="/assets/chunks/metadata.bd418ce2.js"></script>
    <script type="module" src="/assets/app.Dz5T6ddl.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.QUpL7I0k.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CFMQV-X7.js">
    <link rel="modulepreload" href="/assets/zh_TW_digging-deeper_cache.md.-pQ9nOKx.lean.js">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HJQNEG5H69"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-HJQNEG5H69");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-6d6bd506><!--[--><!--]--><!--[--><span tabindex="-1" data-v-333ac9e3></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-333ac9e3>Skip to content</a><!--]--><!----><header class="VPNav" data-v-6d6bd506 data-v-f962ce96><div class="VPNavBar" data-v-f962ce96 data-v-d51ec76f><div class="wrapper" data-v-d51ec76f><div class="container" data-v-d51ec76f><div class="title" data-v-d51ec76f><div class="VPNavBarTitle has-sidebar" data-v-d51ec76f data-v-785ec13f><a class="title" href="/" data-v-785ec13f><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-cb6a40a9><!--]--><!----><!--[--><!--]--></a></div></div><div class="content" data-v-d51ec76f><div class="content-body" data-v-d51ec76f><!--[--><!--]--><div class="VPNavBarSearch search" data-v-d51ec76f><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-d51ec76f data-v-d968f6b6><span id="main-nav-aria-label" class="visually-hidden" data-v-d968f6b6> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/getting-started/installation.html" tabindex="0" data-v-d968f6b6 data-v-1833877b><!--[--><span data-v-1833877b>Quickstart</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://www.youtube.com/playlist?list=PL40Xne4u-oXJ0Z5uFiPWHqIMvzZaG_BDf" target="_blank" rel="noreferrer" tabindex="0" data-v-d968f6b6 data-v-1833877b><!--[--><span data-v-1833877b>Video Tutorials</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/getting-started/contributions.html#add-a-new-language" tabindex="0" data-v-d968f6b6 data-v-1833877b><!--[--><span data-v-1833877b>Translate</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-d51ec76f data-v-db588f7f data-v-32fb9f2f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-32fb9f2f><span class="text" data-v-32fb9f2f><span class="vpi-languages option-icon" data-v-32fb9f2f></span><!----><span class="vpi-chevron-down text-icon" data-v-32fb9f2f></span></span></button><div class="menu" data-v-32fb9f2f><div class="VPMenu" data-v-32fb9f2f data-v-de6964af><!----><!--[--><!--[--><div class="items" data-v-db588f7f><p class="title" data-v-db588f7f>English</p><!--[--><div class="VPMenuLink" data-v-db588f7f data-v-00af6738><a class="VPLink link" href="/zh_CN/zh_TW/digging-deeper/cache.html" data-v-00af6738><!--[--><span data-v-00af6738>简体中文</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-d51ec76f data-v-b02e1af6><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-b02e1af6 data-v-f6092fbf data-v-bc410495><span class="check" data-v-bc410495><span class="icon" data-v-bc410495><!--[--><span class="vpi-sun sun" data-v-f6092fbf></span><span class="vpi-moon moon" data-v-f6092fbf></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-d51ec76f data-v-0d1c8122 data-v-f5bbba7e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/goravel/goravel" aria-label="github" target="_blank" rel="noopener" data-v-f5bbba7e data-v-46233840><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/cFc5csczzS" aria-label="discord" target="_blank" rel="noopener" data-v-f5bbba7e data-v-46233840><span class="vpi-social-discord"></span></a><a class="VPSocialLink no-icon" href="https://x.com/goravelgolang" aria-label="x" target="_blank" rel="noopener" data-v-f5bbba7e data-v-46233840><span class="vpi-social-x"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-d51ec76f data-v-b5430ab9 data-v-32fb9f2f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-32fb9f2f><span class="vpi-more-horizontal icon" data-v-32fb9f2f></span></button><div class="menu" data-v-32fb9f2f><div class="VPMenu" data-v-32fb9f2f data-v-de6964af><!----><!--[--><!--[--><div class="group translations" data-v-b5430ab9><p class="trans-title" data-v-b5430ab9>English</p><!--[--><div class="VPMenuLink" data-v-b5430ab9 data-v-00af6738><a class="VPLink link" href="/zh_CN/zh_TW/digging-deeper/cache.html" data-v-00af6738><!--[--><span data-v-00af6738>简体中文</span><!--]--></a></div><!--]--></div><div class="group" data-v-b5430ab9><div class="item appearance" data-v-b5430ab9><p class="label" data-v-b5430ab9>Appearance</p><div class="appearance-action" data-v-b5430ab9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-b5430ab9 data-v-f6092fbf data-v-bc410495><span class="check" data-v-bc410495><span class="icon" data-v-bc410495><!--[--><span class="vpi-sun sun" data-v-f6092fbf></span><span class="vpi-moon moon" data-v-f6092fbf></span><!--]--></span></span></button></div></div></div><div class="group" data-v-b5430ab9><div class="item social-links" data-v-b5430ab9><div class="VPSocialLinks social-links-list" data-v-b5430ab9 data-v-f5bbba7e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/goravel/goravel" aria-label="github" target="_blank" rel="noopener" data-v-f5bbba7e data-v-46233840><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/cFc5csczzS" aria-label="discord" target="_blank" rel="noopener" data-v-f5bbba7e data-v-46233840><span class="vpi-social-discord"></span></a><a class="VPSocialLink no-icon" href="https://x.com/goravelgolang" aria-label="x" target="_blank" rel="noopener" data-v-f5bbba7e data-v-46233840><span class="vpi-social-x"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-d51ec76f data-v-3b6fb606><span class="container" data-v-3b6fb606><span class="top" data-v-3b6fb606></span><span class="middle" data-v-3b6fb606></span><span class="bottom" data-v-3b6fb606></span></span></button></div></div></div></div><div class="divider" data-v-d51ec76f><div class="divider-line" data-v-d51ec76f></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-6d6bd506 data-v-8868f59d><div class="container" data-v-8868f59d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-8868f59d><span class="vpi-align-left menu-icon" data-v-8868f59d></span><span class="menu-text" data-v-8868f59d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-8868f59d data-v-b36c5d28><button data-v-b36c5d28>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-6d6bd506 data-v-be6c243f><div class="curtain" data-v-be6c243f></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-be6c243f><span class="visually-hidden" id="sidebar-aria-label" data-v-be6c243f> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>Quickstart</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/getting-started/installation.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Installation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/getting-started/configuration.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Configuration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/getting-started/directory-structure.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Directory Structure</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/getting-started/compile.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Compile</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/getting-started/releases.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Release Notes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/getting-started/contributions.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Contribution Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/getting-started/packages.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Excellent Packages</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/getting-started/privacy.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Privacy Policy</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>Upgrade</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/upgrade/v1.16.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Upgrading To v1.16 From v1.15</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/upgrade/v1.15.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Upgrading To v1.15 From v1.14</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/upgrade/history.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>History</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>Architecture Concepts</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/architecture-concepts/request-lifecycle.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Lifecycle</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/architecture-concepts/service-container.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Service Container</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/architecture-concepts/service-providers.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Service Providers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/architecture-concepts/facades.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Facades</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>The Basics</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/the-basics/routing.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Routing</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/the-basics/middleware.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Middleware</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/the-basics/controllers.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Controllers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/the-basics/request.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Requests</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/the-basics/response.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Responses</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/the-basics/views.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Views</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/the-basics/grpc.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Grpc</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/the-basics/session.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Session</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/the-basics/validation.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Validation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/the-basics/logging.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Logging</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>Digging Deeper</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/digging-deeper/artisan-console.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Artisan Console</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/digging-deeper/cache.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Cache</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/digging-deeper/event.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Event</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/digging-deeper/filesystem.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>File Storage</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/digging-deeper/mail.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Mail</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/digging-deeper/queues.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Queues</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/digging-deeper/task-scheduling.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Task Scheduling</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/digging-deeper/localization.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Localization</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/digging-deeper/package-development.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Package Development</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/digging-deeper/color.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Color Output</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/digging-deeper/strings.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Strings</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/digging-deeper/helpers.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Helpers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/digging-deeper/http-client.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>HTTP Client</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>Security</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/security/authentication.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Authentication</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/security/authorization.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Authorization</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/security/encryption.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Encryption</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/security/hashing.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Hashing</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>Database</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/database/getting-started.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/database/queries.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Query Builder</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/database/migrations.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Migrations</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/database/seeding.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Seeding</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>ORM</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/orm/getting-started.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/orm/relationships.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Relationships</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/orm/factories.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Factories</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>Testing</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/testing/getting-started.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/testing/http-tests.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>HTTP Tests</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/testing/mock.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Mock</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-6d6bd506 data-v-95f78ad9><div class="VPDoc has-sidebar has-aside" data-v-95f78ad9 data-v-d3be2d93><!--[--><!--]--><div class="container" data-v-d3be2d93><div class="aside" data-v-d3be2d93><div class="aside-curtain" data-v-d3be2d93></div><div class="aside-container" data-v-d3be2d93><div class="aside-content" data-v-d3be2d93><div class="VPDocAside" data-v-d3be2d93 data-v-6e9cb4e7><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6e9cb4e7 data-v-3473656f><div class="content" data-v-3473656f><div class="outline-marker" data-v-3473656f></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-3473656f>On this page</div><ul class="VPDocOutlineItem root" data-v-3473656f data-v-5ead4e78><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6e9cb4e7></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-d3be2d93><div class="content-container" data-v-d3be2d93><!--[--><!--]--><main class="main" data-v-d3be2d93><div style="position:relative;" class="vp-doc _zh_TW_digging-deeper_cache" data-v-d3be2d93><div><h1 id="快取" tabindex="-1">快取 <a class="header-anchor" href="#快取" aria-label="Permalink to “快取”">​</a></h1><nav class="table-of-contents"><ul><li><a href="#概述">概述</a></li><li><a href="#配置">配置</a></li><li><a href="#快取用法">快取用法</a><ul><li><a href="#inject-context">Inject Context</a></li><li><a href="#訪問多個快取存儲">訪問多個快取存儲</a></li><li><a href="#從快取中檢索項目">從快取中檢索項目</a></li><li><a href="#檢查項目是否存在">檢查項目是否存在</a></li><li><a href="#遞增-遞減值">遞增 / 遞減值</a></li><li><a href="#檢索及存儲">檢索及存儲</a></li><li><a href="#檢索及刪除">檢索及刪除</a></li><li><a href="#在快取中存儲資料">在快取中存儲資料</a></li><li><a href="#如果不存在則存儲">如果不存在則存儲</a></li><li><a href="#永久存儲項目">永久存儲項目</a></li><li><a href="#從快取中刪除項目">從快取中刪除項目</a></li></ul></li><li><a href="#原子鎖">原子鎖</a><ul><li><a href="#管理鎖">管理鎖</a></li></ul></li><li><a href="#添加自定義快取驅動">添加自定義快取驅動</a><ul><li><a href="#配置-1">配置</a></li><li><a href="#實現自定義驅動">實現自定義驅動</a></li></ul></li></ul></nav><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to “概述”">​</a></h2><p>Goravel 提供了可擴展的快取模組，可以使用 <code>facades.Cache()</code> 進行操作。 Goravel 附帶 <code>memory</code> 驅動，若需要其他驅動，請查看相應的獨立擴展包：</p><table tabindex="0"><thead><tr><th>驅動</th><th>鏈接</th></tr></thead><tbody><tr><td>Redis</td><td><a href="https://github.com/goravel/redis" target="_blank" rel="noreferrer">https://github.com/goravel/redis</a></td></tr></tbody></table><h2 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to “配置”">​</a></h2><p>在 <code>config/cache.go</code> 中進行所有自定義配置。</p><h2 id="快取用法" tabindex="-1">快取用法 <a class="header-anchor" href="#快取用法" aria-label="Permalink to “快取用法”">​</a></h2><h3 id="inject-context" tabindex="-1">Inject Context <a class="header-anchor" href="#inject-context" aria-label="Permalink to “Inject Context”">​</a></h3><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WithContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ctx)</span></span></code></pre></div><h3 id="訪問多個快取存儲" tabindex="-1">訪問多個快取存儲 <a class="header-anchor" href="#訪問多個快取存儲" aria-label="Permalink to “訪問多個快取存儲”">​</a></h3><p>你可以通過 <code>Store</code> 方法訪問各種快取存儲。 傳遞給 <code>Store</code> 方法的鍵應對應於你的快取配置文件中 &quot;stores&quot; 配置數組列出的存儲之一：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Store</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;redis&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;foo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="從快取中檢索項目" tabindex="-1">從快取中檢索項目 <a class="header-anchor" href="#從快取中檢索項目" aria-label="Permalink to “從快取中檢索項目”">​</a></h3><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetBool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>你可以將 <code>func</code> 作為默認值傳遞。 如果指定的資料在快取中不存在，則會返回 <code>func</code> 的結果。 傳遞閉包方法使你能夠從資料庫或其他外部服務獲取默認值。 注意閉包結構 <code>func() any</code>。</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;default&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="檢查項目是否存在" tabindex="-1">檢查項目是否存在 <a class="header-anchor" href="#檢查項目是否存在" aria-label="Permalink to “檢查項目是否存在”">​</a></h3><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Has</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="遞增-遞減值" tabindex="-1">遞增 / 遞減值 <a class="header-anchor" href="#遞增-遞減值" aria-label="Permalink to “遞增 / 遞減值”">​</a></h3><p><code>Increment</code> 和 <code>Decrement</code> 方法可用於調整快取中整數項的值。 這兩種方法都接受一個可選的第二個參數，指示增加或減少項目值的數量：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Increment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Increment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, amount)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Decrement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Decrement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, amount)</span></span></code></pre></div><h3 id="檢索及存儲" tabindex="-1">檢索及存儲 <a class="header-anchor" href="#檢索及存儲" aria-label="Permalink to “檢索及存儲”">​</a></h3><p>有時你可能想從快取中獲取資料，而當請求的快取項不存在時，程序能為你存儲一個默認值。</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Remember</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time.Second, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nil</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>如果你想要的資料在快取中不存在，傳遞給 <code>Remember</code> 方法的閉包將被執行，然後將結果返回並放入快取中。</p><p>你可以使用 <code>RememberForever</code> 方法從快取中獲取資料或永久存儲它：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RememberForever</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nil</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="檢索及刪除" tabindex="-1">檢索及刪除 <a class="header-anchor" href="#檢索及刪除" aria-label="Permalink to “檢索及刪除”">​</a></h3><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Pull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="在快取中存儲資料" tabindex="-1">在快取中存儲資料 <a class="header-anchor" href="#在快取中存儲資料" aria-label="Permalink to “在快取中存儲資料”">​</a></h3><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Put</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time.Second)</span></span></code></pre></div><p>如果快取的過期時間設置為 <code>0</code>，則快取將永久有效：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Put</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="如果不存在則存儲" tabindex="-1">如果不存在則存儲 <a class="header-anchor" href="#如果不存在則存儲" aria-label="Permalink to “如果不存在則存儲”">​</a></h3><p><code>Add</code> 方法將只在快取中不存在時存儲資料。 如果存儲成功，將返回 <code>true</code>，否則返回 <code>false</code>。</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time.Second)</span></span></code></pre></div><h3 id="永久存儲項目" tabindex="-1">永久存儲項目 <a class="header-anchor" href="#永久存儲項目" aria-label="Permalink to “永久存儲項目”">​</a></h3><p><code>Forever</code> 方法可用於將資料持久化存儲到快取中。 由於這些資料不會過期，所以必須通過 <code>Forget</code> 方法從快取中手動刪除它們。</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Forever</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="從快取中刪除項目" tabindex="-1">從快取中刪除項目 <a class="header-anchor" href="#從快取中刪除項目" aria-label="Permalink to “從快取中刪除項目”">​</a></h3><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Forget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>你可以使用 <code>Flush</code> 方法清空所有的快取：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Flush</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h2 id="原子鎖" tabindex="-1">原子鎖 <a class="header-anchor" href="#原子鎖" aria-label="Permalink to “原子鎖”">​</a></h2><h3 id="管理鎖" tabindex="-1">管理鎖 <a class="header-anchor" href="#管理鎖" aria-label="Permalink to “管理鎖”">​</a></h3><p>原子鎖允許在不擔心競爭條件的情況下操作分佈式鎖。你可以使用 <code>Lock</code> 方法創建和管理鎖： 你可以使用 <code>Lock</code> 方法創建和管理鎖：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lock </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Lock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;foo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time.Second)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (lock.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 鎖定 10 秒...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    lock.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Release</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>Get</code> 方法也接受一個閉包。 閉包執行後，Goravel 將自動釋放鎖：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Lock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;foo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 鎖定 10 秒並自動釋放...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>如果在你請求時鎖不可用，你可以指示 Goravel 等待指定的秒數。 如果在指定的時間限制內無法獲取鎖，則返回 <code>false</code>：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lock </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Lock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;foo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time.Second)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 等待最多 5 秒後獲得鎖定...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (lock.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Block</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time.Second)) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    lock.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Release</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>上述例子可以通過將閉包傳遞給 <code>Block</code> 方法來簡化。 當一個閉包被傳遞給這個方法時，Goravel 將嘗試在指定的秒數內獲取鎖，並在閉包執行後自動釋放鎖：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Lock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;foo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time.Second).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Block</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time.Second, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 鎖定 10 秒後獲得並自動釋放...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>如果你想釋放一個鎖而不考慮當前所有者，你可以使用 <code>ForceRelease</code> 方法：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Lock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;processing&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ForceRelease</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h2 id="添加自定義快取驅動" tabindex="-1">添加自定義快取驅動 <a class="header-anchor" href="#添加自定義快取驅動" aria-label="Permalink to “添加自定義快取驅動”">​</a></h2><h3 id="配置-1" tabindex="-1">配置 <a class="header-anchor" href="#配置-1" aria-label="Permalink to “配置”">​</a></h3><p>如果你想定義一個完全自定義的驅動，可以在 <code>config/cache.go</code> 配置文件中指定 <code>custom</code> 驅動類型。 然後包含一個 <code>via</code> 選項以實現 <code>framework/contracts/cache/Driver</code> 接口：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//config/cache.go</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stores&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{}{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;memory&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;driver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;memory&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;custom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{}{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;driver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;custom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;via&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:    </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Logger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div><h3 id="實現自定義驅動" tabindex="-1">實現自定義驅動 <a class="header-anchor" href="#實現自定義驅動" aria-label="Permalink to “實現自定義驅動”">​</a></h3><p>實現 <code>framework/contracts/cache/Driver</code> 接口，文件可以存儲在 <code>app/extensions</code> 文件夾中（可修改）。</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// framework/contracts/cache/Driver</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cache</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Driver</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Add Driver an item in the cache if the key does not exist.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">t</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Decrement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ...int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Forever Driver an item in the cache indefinitely.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Forever</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Forget Remove an item from the cache.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Forget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Flush Remove all items from the cache.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Flush</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Get Retrieve an item from the cache by key.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">def</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ...</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    GetBool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">def</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ...bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    GetInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">def</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ...int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    GetInt64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">def</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ...int64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    GetString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">def</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ...</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Has Check an item exists in the cache.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Has</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Increment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ...int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Lock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ...</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Lock</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Put Driver an item in the cache for a given time.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Put</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">t</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Pull Retrieve an item from the cache and delete it.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Pull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">def</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ...</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Remember Get an item from the cache, or execute the given Closure and store the result.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Remember</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ttl</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">callback</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // RememberForever Get an item from the cache, or execute the given Closure and store the result forever.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    RememberForever</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">callback</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    WithContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Driver</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-d3be2d93 data-v-7ab990f9><!--[--><!--]--><div class="edit-info" data-v-7ab990f9><div class="edit-link" data-v-7ab990f9><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/goravel/docs/edit/master/zh_TW/digging-deeper/cache.md" target="_blank" rel="noreferrer" data-v-7ab990f9><!--[--><span class="vpi-square-pen edit-link-icon" data-v-7ab990f9></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-7ab990f9><p class="VPLastUpdated" data-v-7ab990f9 data-v-809efa9f>Last updated: <time datetime="2025-08-20T09:06:49.000Z" data-v-809efa9f></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-7ab990f9><span class="visually-hidden" id="doc-footer-aria-label" data-v-7ab990f9>Pager</span><div class="pager" data-v-7ab990f9><!----></div><div class="pager" data-v-7ab990f9><a class="VPLink link pager-link next" href="/getting-started/installation.html" data-v-7ab990f9><!--[--><span class="desc" data-v-7ab990f9>Next page</span><span class="title" data-v-7ab990f9>Installation</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-6d6bd506 data-v-11c72509><div class="container" data-v-11c72509><p class="message" data-v-11c72509>Released under the MIT License</p><p class="copyright" data-v-11c72509>Copyright © 2021-2025 Goravel</p></div></footer><!--[--><!--]--></div></div>
    
    
  </body>
</html>